import streamlit
import buscador_de_cep as cep 

#titulo da aplicaca√ß√£o
st.title ("CR CEP 7Ô∏è‚É£üìÆ")

##LISTA DE OP√á√ïES
opcoes = ["Buscar CEP", "Descobir CEP"]

## BARRA LATERAL 
st.sidebar.header ("Menu de Op√ß√µes")
st.sidebar.image("./bmw_correio.png")
escolha = st.sidebar.selectbox("Escolha uma op√ß√£o:", opcoes)


## L√ìGICA DAS OPCOES
if escolha == "Buscar CEP":
    st.image("./CR7_busca_cep.png:", width=500) 
    numero_cep = st.text_input (" üó∫Ô∏è Digite o CEP que deseja buscar (Apenas N√∫meros): ")
    if st.button("Buscar CEP üîé"):
        dados = cep.buscar_cep(numero_cep)
        if dados:
            st.success("CEP encontrado com sucesso!")
            st.json(dados)

             ## EXIBIR MAPA COM A LOCALIZA√á√ÉO DO CEP
            st.map({
                  "latitude" : [float(dados["lat"])],
                  "longitude": [float(dados["lgn"])]
            })
        else:
            st.error("CEP n√£o encontrado. Verifique o n√∫mero e tente novamente")
